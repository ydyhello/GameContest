function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n)}function i(t,n){return i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},i(t,n)}var r=/*#__PURE__*/function(){function t(t,n){this._x=void 0,this._y=void 0,this._x=t||0,this._y=n||0}return t.v2=function(n,e){return new t(n,e)},t.add=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},t.sub=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},t.mag=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}(),o=/*#__PURE__*/function(){function t(t,n,e){this._x=void 0,this._y=void 0,this._z=void 0,this._x=t||0,this._y=n||0,this._z=e||0}var e=t.prototype;return e.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.addSelf=function(t){this._x+=t.x,this._y+=t.y,this._z+=t.z},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"z",get:function(){return this._z},set:function(t){this._z=t}}],[{key:"ZERO",get:function(){return new t(0,0,0)}}]),t}(),u=/*#__PURE__*/function(){function t(){this._lastPos=null,this.Reset()}var n=t.prototype;return n.init=function(){this._lastPos=null},n.Reset=function(){this._lastPos=null},n.commOptional=function(t){var n={xRate:1,yRate:1,speedDropLimit:0};for(var e in n)void 0===t[e]&&(t[e]=n[e]);return t},n.getDelta=function(t,n,e,i,o){void 0===o&&(o={}),o=this.commOptional(o);var u=r.v2(t,n);if(this._lastPos){var s=r.sub(this._lastPos,u);if(s.x>1e3?s.x=s.x-3600:s.x<-1e3&&(s.x=s.x+3600),s.y>900?s.y=s.y-1800:s.y<-900&&(s.y=s.y+1800),!(Math.abs(e)<o.speedDropLimit))return this._lastPos=u,s.x*=o.xRate,s.y*=o.yRate,s;this._lastPos=u}else this._lastPos=u},t}(),s=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.move=function(t,n,e,i){void 0===i&&(i={});var r=this.getDelta(t,n,e,0,i);return r?(r.y=0,r):{x:0,y:0}},n}(u),c=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.move=function(t,n,e,i){return void 0===i&&(i={}),this.getDelta(t,n,e,0,i)||{x:0,y:0}},n}(u),a=/*#__PURE__*/function(t){function n(n){var e;return void 0===n&&(n=50),(e=t.call(this)||this).yMove=void 0,e.height=void 0,e.height=n,e.yMove=0,e}return e(n,t),n.prototype.jump=function(t,n,e,i){void 0===i&&(i={});var r=this.getDelta(t,n,e,0,i);return!!r&&(this.yMove+=Math.abs(r.y),this.yMove>=this.height&&(this.yMove=0,!0))},n}(u),h=/*#__PURE__*/function(t){function n(n){var e;return void 0===n&&(n=20),(e=t.call(this)||this).accSpeed=0,e.accSpeed=n,e}return e(n,t),n.prototype.jumpRope=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return!!o&&r.mag(o)>this.accSpeed},n}(u),f=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.boating=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);if(o)return r.mag(o)>40},n}(u),p=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.hammering=function(t,n,e,i){void 0===i&&(i={});var r=this.getDelta(t,n,e,0,i);return!!r&&r.y<=0&&Math.abs(r.y)>40},n}(u),l=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.swim=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&r.mag(o)>40?r.mag(o):0},n}(u),y=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.climb=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&r.mag(o)>40?r.mag(o):0},n}(u),v=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.throw=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&r.mag(o)>30?r.mag(o):0},n}(u),g=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.wave=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&r.mag(o)>40?r.mag(o):0},n}(u),x=/*#__PURE__*/function(t){function n(){return t.call(this)||this}e(n,t);var i=n.prototype;return i.forehand=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&o.x<0&&r.mag(o)>40?r.mag(o):0},i.backhand=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&o.x>0&&r.mag(o)>40?r.mag(o):0},n}(u),d=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.punch=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);if(o)return r.mag(o)>40},n}(u),m=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.running=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);if(o)return r.mag(o)>40},n}(u),_=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.shake=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);if(o)return r.mag(o)>40},n}(u),D=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.heightWave=function(t,n,e,i){void 0===i&&(i={});var r=this.getDelta(t,n,e,0,i);return!!r&&Math.abs(r.y)>40},n}(u),b=/*#__PURE__*/function(t){function n(){return t.call(this)||this}return e(n,t),n.prototype.skate=function(t,n,e,i){void 0===i&&(i={});var o=this.getDelta(t,n,e,0,i);return o&&r.mag(o)>40?r.mag(o):0},n}(u);exports.BaseCtrl=u,exports.BoatingAct=f,exports.ClimbAct=y,exports.DEF_DIR={left:1,right:2,up:3,down:4},exports.FreeMoveAct=c,exports.HammeringAct=p,exports.HeightWaveAct=D,exports.JumpAct=a,exports.JumpRopeAct=h,exports.LRMoveAct=s,exports.PingpongAct=x,exports.PunchAct=d,exports.RunningAct=m,exports.ShakeAct=_,exports.SkateAct=b,exports.SwimAct=l,exports.ThrowAct=v,exports.Vec2=r,exports.Vec3=o,exports.WaveAct=g;
